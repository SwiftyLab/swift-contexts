{"metadata":{"role":"symbol","externalID":"s:8Contexts7ContextV","title":"Context","roleHeading":"Structure","modules":[{"name":"Contexts"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Context","kind":"identifier"}],"navigatorTitle":[{"text":"Context","kind":"identifier"}],"symbolKind":"struct"},"hierarchy":{"paths":[["doc:\/\/Contexts\/documentation\/Contexts"]]},"abstract":[{"text":"A type for accessing and managing dependencies.","type":"text"}],"seeAlsoSections":[{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)","doc:\/\/Contexts\/documentation\/Contexts\/ContextKey()"],"title":"Dependency management","generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/contexts\/context"]}],"kind":"symbol","topicSections":[{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/Update","doc:\/\/Contexts\/documentation\/Contexts\/Context\/Updater"],"title":"Structures"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/init()","doc:\/\/Contexts\/documentation\/Contexts\/Context\/init(input:)"],"title":"Initializers"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/input","doc:\/\/Contexts\/documentation\/Contexts\/Context\/with"],"title":"Instance Properties"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/subscript(_:)"],"title":"Subscripts"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["Linux"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Context","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Input","kind":"genericParameter"},{"text":">","kind":"text"}],"languages":["swift"]}]},{"kind":"content","content":[{"text":"Overview","type":"heading","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"All dependencies are isolated per instance of this type","type":"text"},{"text":" ","type":"text"},{"text":"and this type can be extended adding new dependencies.","type":"text"}]},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)"},{"type":"text","text":" macro can be used to add new dependencies"},{"type":"text","text":" "},{"type":"text","text":"with default value:"}]},{"type":"codeListing","code":["extension Context {","  @ContextKey(Client.shared)","  var apiClient: Client","  @ContextKey(Clock.continuous)","  var clock: Clock","  @ContextKey(UUID())","  var uuid: UUID","","  \/\/ ...","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Or, dependency implementation can be provided manually:","type":"text"}]},{"type":"codeListing","code":["extension Context {","  var apiClient: Client {","    get { self[\\.apiClient] ?? .shared }","    set { self[\\.apiClient] = newValue }",".  }","","  \/\/ ...","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"In the above examples, default value of dependencies are","type":"text"},{"text":" ","type":"text"},{"text":"provided statically.Additionally, this type accepts input","type":"text"},{"text":" ","type":"text"},{"text":"that can be used to set dependencies default value dynamically:","type":"text"}]},{"type":"codeListing","code":["let context = Context(input: apiClient)","\/\/ access by context.input"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"Dependencies can also be overridden in a new context with DSL","type":"text"},{"text":" ","type":"text"},{"text":"provided by this library:","type":"text"}]},{"type":"codeListing","code":["let newContext = context.with","                     .apiClient(newClient)","                     .clock(.suspending)","\/\/ use newContext as overridden context"],"syntax":"swift"}]}],"sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Contexts\/documentation\/Contexts\/Context"},"references":{"doc://Contexts/documentation/Contexts/Context/subscript(_:)":{"kind":"symbol","type":"topic","title":"subscript(_:)","url":"\/documentation\/contexts\/context\/subscript(_:)","fragments":[{"text":"subscript","kind":"keyword"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"KeyPath","kind":"typeIdentifier","preciseIdentifier":"s:s7KeyPathC"},{"text":"<","kind":"text"},{"text":"Context","kind":"typeIdentifier","preciseIdentifier":"s:8Contexts7ContextV"},{"text":"<","kind":"text"},{"text":"Input","kind":"typeIdentifier"},{"text":">, ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/subscript(_:)","abstract":[{"type":"text","text":"Manages dependency for provided property key path."}],"role":"symbol"},"doc://Contexts/documentation/Contexts/ContextKey(_:)":{"role":"symbol","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"text":"ContextKey","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":")","kind":"text"}],"kind":"symbol","title":"ContextKey(_:)","abstract":[{"type":"text","text":"Indicates the property is a dependency in "},{"type":"reference","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","isActive":true},{"text":" ","type":"text"},{"text":"with provided default value.","type":"text"}],"url":"\/documentation\/contexts\/contextkey(_:)","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)","type":"topic"},"doc://Contexts/documentation/Contexts/Context/with":{"url":"\/documentation\/contexts\/context\/with","abstract":[{"text":"The updater that can be used to update dependency.","type":"text"}],"role":"symbol","kind":"symbol","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/with","title":"with","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Context","preciseIdentifier":"s:8Contexts7ContextV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Input"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Updater","preciseIdentifier":"s:8Contexts7ContextV7UpdaterV"}],"type":"topic"},"doc://Contexts/documentation/Contexts":{"title":"Contexts","role":"collection","identifier":"doc:\/\/Contexts\/documentation\/Contexts","abstract":[{"text":"A no-boilerplate dependency management library for Swift.","type":"text"}],"url":"\/documentation\/contexts","type":"topic","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/Update":{"abstract":[{"type":"text","text":"A type for updating dependency at specific"},{"type":"text","text":" "},{"type":"text","text":"key path in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context"},{"text":".","type":"text"}],"url":"\/documentation\/contexts\/context\/update","title":"Context.Update","role":"symbol","navigatorTitle":[{"text":"Update","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Update","kind":"identifier"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/Update","type":"topic","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/Updater":{"abstract":[{"type":"text","text":"A type for updating dependencies in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context"},{"type":"text","text":"."}],"url":"\/documentation\/contexts\/context\/updater","title":"Context.Updater","role":"symbol","navigatorTitle":[{"text":"Updater","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Updater","kind":"identifier"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/Updater","type":"topic","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/init()":{"kind":"symbol","title":"init()","role":"symbol","url":"\/documentation\/contexts\/context\/init()","conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"type":"codeVoice","code":"Input"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"()"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}]},"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/init()","type":"topic","abstract":[{"text":"Creates a new context with empty input.","type":"text"}],"fragments":[{"text":"init","kind":"identifier"},{"text":"()","kind":"text"}]},"doc://Contexts/documentation/Contexts/Context/input":{"role":"symbol","url":"\/documentation\/contexts\/context\/input","title":"input","type":"topic","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/input","kind":"symbol","abstract":[{"type":"text","text":"The current input value."}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"input","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Input","kind":"typeIdentifier"}]},"doc://Contexts/documentation/Contexts/Context/init(input:)":{"url":"\/documentation\/contexts\/context\/init(input:)","abstract":[{"text":"Creates a new context with provided input.","type":"text"}],"role":"symbol","kind":"symbol","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/init(input:)","title":"init(input:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"input"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Input"},{"kind":"text","text":")"}],"type":"topic"},"doc://Contexts/documentation/Contexts/ContextKey()":{"role":"symbol","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ContextKey","kind":"identifier"},{"kind":"text","text":"()"}],"kind":"symbol","title":"ContextKey()","abstract":[{"type":"text","text":"Indicates the property is a dependency in "},{"isActive":true,"type":"reference","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context"},{"text":".","type":"text"}],"url":"\/documentation\/contexts\/contextkey()","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey()","type":"topic"},"doc://Contexts/documentation/Contexts/Context":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Context"}],"title":"Context","role":"symbol","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","abstract":[{"type":"text","text":"A type for accessing and managing dependencies."}],"url":"\/documentation\/contexts\/context","navigatorTitle":[{"text":"Context","kind":"identifier"}],"type":"topic","kind":"symbol"}}}