{"abstract":[{"type":"text","text":"A type for accessing and managing dependencies."}],"metadata":{"roleHeading":"Structure","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Context","kind":"identifier"}],"modules":[{"name":"Contexts"}],"title":"Context","symbolKind":"struct","role":"symbol","externalID":"s:8Contexts7ContextV","navigatorTitle":[{"text":"Context","kind":"identifier"}]},"primaryContentSections":[{"declarations":[{"platforms":["Linux"],"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Context"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Input"},{"kind":"text","text":">"}],"languages":["swift"]}],"kind":"declarations"},{"kind":"content","content":[{"text":"Overview","type":"heading","level":2,"anchor":"overview"},{"inlineContent":[{"type":"text","text":"All dependencies are isolated per instance of this type"},{"type":"text","text":" "},{"type":"text","text":"and this type can be extended adding new dependencies."}],"type":"paragraph"},{"inlineContent":[{"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)","isActive":true,"type":"reference"},{"text":" macro can be used to add new dependencies","type":"text"},{"text":" ","type":"text"},{"text":"with default value:","type":"text"}],"type":"paragraph"},{"code":["extension Context {","  @ContextKey(Client.shared)","  var apiClient: Client","  @ContextKey(Clock.continuous)","  var clock: Clock","  @ContextKey(UUID())","  var uuid: UUID","","  \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"Or, dependency implementation can be provided manually:"}],"type":"paragraph"},{"code":["extension Context {","  var apiClient: Client {","    get { self[\\.apiClient] ?? .shared }","    set { self[\\.apiClient] = newValue }",".  }","","  \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"In the above examples, default value of dependencies are","type":"text"},{"text":" ","type":"text"},{"text":"provided statically.Additionally, this type accepts input","type":"text"},{"text":" ","type":"text"},{"text":"that can be used to set dependencies default value dynamically:","type":"text"}],"type":"paragraph"},{"code":["let context = Context(input: apiClient)","\/\/ access by context.input"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Dependencies can also be overridden in a new context with DSL","type":"text"},{"text":" ","type":"text"},{"text":"provided by this library:","type":"text"}],"type":"paragraph"},{"code":["let newContext = context.with","                     .apiClient(newClient)","                     .clock(.suspending)","\/\/ use newContext as overridden context"],"type":"codeListing","syntax":"swift"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Contexts\/documentation\/Contexts\/Context"},"schemaVersion":{"patch":0,"major":0,"minor":3},"seeAlsoSections":[{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)","doc:\/\/Contexts\/documentation\/Contexts\/ContextKey()"],"title":"Dependency management","generated":true}],"sections":[],"hierarchy":{"paths":[["doc:\/\/Contexts\/documentation\/Contexts"]]},"topicSections":[{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/Update","doc:\/\/Contexts\/documentation\/Contexts\/Context\/Updater"],"title":"Structures"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/init()","doc:\/\/Contexts\/documentation\/Contexts\/Context\/init(input:)"],"title":"Initializers"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/input","doc:\/\/Contexts\/documentation\/Contexts\/Context\/with"],"title":"Instance Properties"},{"identifiers":["doc:\/\/Contexts\/documentation\/Contexts\/Context\/subscript(_:)"],"title":"Subscripts"}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/contexts\/context"]}],"references":{"doc://Contexts/documentation/Contexts/Context/subscript(_:)":{"fragments":[{"kind":"keyword","text":"subscript"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","preciseIdentifier":"s:s7KeyPathC","text":"KeyPath"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:8Contexts7ContextV","text":"Context"},{"kind":"text","text":"<"},{"text":"Input","kind":"typeIdentifier"},{"text":">, ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/subscript(_:)","kind":"symbol","type":"topic","role":"symbol","title":"subscript(_:)","abstract":[{"type":"text","text":"Manages dependency for provided property key path."}],"url":"\/documentation\/contexts\/context\/subscript(_:)"},"doc://Contexts/documentation/Contexts/ContextKey(_:)":{"fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"ContextKey"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":")"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey(_:)","abstract":[{"type":"text","text":"Indicates the property is a dependency in "},{"type":"reference","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","isActive":true},{"type":"text","text":" "},{"type":"text","text":"with provided default value."}],"role":"symbol","url":"\/documentation\/contexts\/contextkey(_:)","type":"topic","kind":"symbol","title":"ContextKey(_:)"},"doc://Contexts/documentation/Contexts/Context/init()":{"title":"init()","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/init()","conformance":{"conformancePrefix":[{"text":"Conforms when","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"code":"Input","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"()","type":"codeVoice"},{"text":".","type":"text"}]},"abstract":[{"type":"text","text":"Creates a new context with empty input."}],"fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"()"}],"type":"topic","role":"symbol","url":"\/documentation\/contexts\/context\/init()","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/with":{"url":"\/documentation\/contexts\/context\/with","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/with","kind":"symbol","title":"with","abstract":[{"text":"The updater that can be used to update dependency.","type":"text"}],"type":"topic","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Context","preciseIdentifier":"s:8Contexts7ContextV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Input"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Updater","preciseIdentifier":"s:8Contexts7ContextV7UpdaterV"}],"role":"symbol"},"doc://Contexts/documentation/Contexts/Context/init(input:)":{"abstract":[{"type":"text","text":"Creates a new context with provided input."}],"url":"\/documentation\/contexts\/context\/init(input:)","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/init(input:)","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"input","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Input","kind":"typeIdentifier"},{"text":")","kind":"text"}],"type":"topic","role":"symbol","title":"init(input:)","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/Update":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Update"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Update"}],"abstract":[{"type":"text","text":"A type for updating dependency at specific"},{"type":"text","text":" "},{"type":"text","text":"key path in "},{"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"topic","title":"Context.Update","url":"\/documentation\/contexts\/context\/update","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/Update","kind":"symbol"},"doc://Contexts/documentation/Contexts/ContextKey()":{"fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"ContextKey"},{"kind":"text","text":"()"}],"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/ContextKey()","abstract":[{"type":"text","text":"Indicates the property is a dependency in "},{"type":"reference","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","isActive":true},{"type":"text","text":"."}],"role":"symbol","url":"\/documentation\/contexts\/contextkey()","type":"topic","kind":"symbol","title":"ContextKey()"},"doc://Contexts/documentation/Contexts/Context/Updater":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Updater"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Updater"}],"abstract":[{"type":"text","text":"A type for updating dependencies in "},{"identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"topic","title":"Context.Updater","url":"\/documentation\/contexts\/context\/updater","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/Updater","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Context","kind":"identifier"}],"role":"symbol","navigatorTitle":[{"text":"Context","kind":"identifier"}],"abstract":[{"type":"text","text":"A type for accessing and managing dependencies."}],"type":"topic","title":"Context","url":"\/documentation\/contexts\/context","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context","kind":"symbol"},"doc://Contexts/documentation/Contexts":{"role":"collection","abstract":[{"type":"text","text":"A no-boilerplate dependency management library for Swift."}],"type":"topic","title":"Contexts","url":"\/documentation\/contexts","identifier":"doc:\/\/Contexts\/documentation\/Contexts","kind":"symbol"},"doc://Contexts/documentation/Contexts/Context/input":{"url":"\/documentation\/contexts\/context\/input","abstract":[{"text":"The current input value.","type":"text"}],"role":"symbol","identifier":"doc:\/\/Contexts\/documentation\/Contexts\/Context\/input","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"input","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Input","kind":"typeIdentifier"}],"type":"topic","title":"input","kind":"symbol"}}}